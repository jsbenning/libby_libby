<% if @user.errors.full_messages.any? %>
  <% @user.errors.full_messages.each do |error_message| %>
    <%= error_message if @user.errors.full_messages.first == error_message %> <br />
  <% end %>
<% end %>

<% if current_user.mid_clearance? && current_user != @user %>

<h1> User's Profile </h1>

  <p>User's Real Name: <%= @user.real_name %></p>
  <p>User's Street Address: <%= @user.street %></p>
  <p>User's City: <%= @user.city %></p>
  <p>User's State: <%= @user.state %></p>
  <p>User's Zipcode: <%= @user.zipcode %></p>
  <p>User's email: <%= @user.email %></p>
  <p>User's Current Rating: <strong><%= @rating %></strong></p>

  <% if current_user.admin? %> 
  <p><%= button_to "Delete This account", user_path(@user), data: { confirm: "Are you sure?" }, method: :delete %></p>
  <% end %>

<% elsif current_user == @user %>

<div class='boxframe'>
  <h1>Your Profile </h1>

  <p><strong>Your Favorite Genres:</strong></p>
    <% @user.genres.each do |genre| %>
      <%= genre.name %></p>
    <% end %>

  <p><i>Remember, if any of the fields below are blank, you must update them to add or trade books</i><p>
  <p><strong>Your Real Name: </strong><%= @user.real_name %></p>
  <p><strong>Your Street Address: </strong><%= @user.street %></p>
  <p><strong>Your City: </strong><%= @user.city %></p>
  <p><strong>Your State: </strong><%= @user.state %></p>
  <p><strong>Your Zipcode: </strong><%= @user.zipcode %></p>
  <p><strong>Your email: </strong><%= @user.email %></p>
  <p><strong>Your Current Rating: <strong><%= @rating %></strong></p>
</div>

<hr>

<p><%= button_to "Change My Password", edit_user_registration_path(@user), :method => 'get', :class => 'btn btn-primary' %></p>

<p><%= button_to "Edit My Profile", edit_user_path(@user), :method => 'get', :class => 'btn btn-primary' %></p>

<p><%= button_to "Delete My account", registration_path(:user, as: :accounts), :class => 'btn btn-primary', data: { confirm: "Are you sure?" }, method: :delete %></p>

<% end %>




